const _0x350fb3=_0xaf01;function _0x1ee7(){const _0x368378=['6XboLHA','450063SDiNgI','dist','draw','special','south','16QzrLmj','dir','position','value','push','mid','apart','len','influence_by','Vector','log','8388210grMCjn','2745516mPRzkR','sub','copy','normalize','5900944RfGFLw','origin','yes','grab','size','north','update','center','mult','7721630XdAEMi','plot','pos','25623018WXJHGG','cosine','41295dPqADZ','angle','thickness'];_0x1ee7=function(){return _0x368378;};return _0x1ee7();}(function(_0x3987db,_0x79759c){const _0x51fad2=_0xaf01,_0x5216d1=_0x3987db();while(!![]){try{const _0x5ac037=parseInt(_0x51fad2(0x14f))/0x1*(parseInt(_0x51fad2(0x152))/0x2)+parseInt(_0x51fad2(0x153))/0x3+-parseInt(_0x51fad2(0x13d))/0x4+parseInt(_0x51fad2(0x14a))/0x5+-parseInt(_0x51fad2(0x13c))/0x6+parseInt(_0x51fad2(0x141))/0x7*(-parseInt(_0x51fad2(0x158))/0x8)+parseInt(_0x51fad2(0x14d))/0x9;if(_0x5ac037===_0x79759c)break;else _0x5216d1['push'](_0x5216d1['shift']());}catch(_0x1f556c){_0x5216d1['push'](_0x5216d1['shift']());}}}(_0x1ee7,0xda774));function _0xaf01(_0x5ecdc8,_0x23ab62){const _0x1ee7e0=_0x1ee7();return _0xaf01=function(_0xaf017e,_0x16e419){_0xaf017e=_0xaf017e-0x13b;let _0x112844=_0x1ee7e0[_0xaf017e];return _0x112844;},_0xaf01(_0x5ecdc8,_0x23ab62);}let magnet,particles=[],redlines=[],con=0x1,width1=0x12c,height1=0x12c,width2=0x145,height2=0xfa,redAngle=0x0,graph,scl=0xa,cols,compass,alignX=0x0,diff=0x0;function setup(){const _0x19dc9f=_0xaf01;createCanvas(windowWidth,windowHeight),angleMode(DEGREES),slider1=createSlider(0x0,0x168,0x0,0x0),slider1[_0x19dc9f(0x15a)](0x19,height1+0x32+height2+0x19),slider1['size'](width2-0x19),slider2=createSlider(0x0,0x168,0x0,0x0),slider2['position'](0x19,height1+0x32+height2+0x19+0x19),slider2[_0x19dc9f(0x145)](width2-0x19),magnet=new Dipole(width2/0x2,height1+0x32+height2/0x2+0x14);for(let _0x95b0e1=0x0;_0x95b0e1<0x3e8;_0x95b0e1++){particles['push'](new Particle(random(0x19,width2),random(height1+0x1e,height1+0x32+height2)));}cols=floor(width2/scl)-0x2;for(let _0x293ecb=0x0;_0x293ecb<cols;_0x293ecb++){particles[_0x19dc9f(0x15c)](new Particle(0x19+_0x293ecb*scl,height1+0x32+0x32,!![]));}graph=new Graph(0x19,0x5,width1,height1),compass=new Compass(width1-0x2,0x21);}function draw(){const _0x53d863=_0xaf01;background(0xff),move(),push(),noStroke(),fill(0x0,0xbe,0x0),rect(0x19,height1+0x32+0x32,width2-0x19,0xa),fill(0xcd,0x5c,0x8),rect(0x19,height1+0x32+0x32+0xa,width2-0x19,height2-0x32),pop();for(let _0x3a0768 of particles){_0x3a0768[_0x53d863(0x160)](magnet),_0x3a0768[_0x53d863(0x147)](magnet),_0x3a0768[_0x53d863(0x155)]();}redAngle=slider2[_0x53d863(0x15b)](),magnet[_0x53d863(0x150)]=slider1['value'](),magnet[_0x53d863(0x155)](),graph[_0x53d863(0x147)](particles),graph[_0x53d863(0x155)](),compass['angle']=redAngle,compass[_0x53d863(0x155)](),strokeWeight(0x1),textSize(0x14),fill(0x0);}function rotateVector(_0x53a905,_0x532420,_0x5af211){return createVector(_0x532420['x']+(_0x53a905['x']-_0x532420['x'])*cos(_0x5af211)-(_0x53a905['y']-_0x532420['y'])*sin(_0x5af211),_0x532420['y']+(_0x53a905['x']-_0x532420['x'])*sin(_0x5af211)+(_0x53a905['y']-_0x532420['y'])*cos(_0x5af211));}function windowResized(){resizeCanvas(windowWidth-0x4,windowHeight-0x4);}function move(){const _0xc08b14=_0xaf01;mouseIsPressed&&mouseX>0x19&&mouseX<width2&&mouseY>height1+0x6e&&mouseY<height1+height2+0x32?(cursor(_0xc08b14(0x144)),magnet[_0xc08b14(0x148)]['x']=mouseX,magnet[_0xc08b14(0x148)]['y']=mouseY):cursor();}class Compass{constructor(_0x1643d7,_0x318182){const _0xd39a39=_0xaf01;this['r']=0x14,this['apart']=this['r'],this[_0xd39a39(0x148)]=createVector(_0x1643d7,_0x318182),this[_0xd39a39(0x146)]=createVector(_0x1643d7-this[_0xd39a39(0x15e)],_0x318182),this[_0xd39a39(0x157)]=createVector(_0x1643d7+this['apart'],_0x318182),this['nr']=this[_0xd39a39(0x146)],this['sr']=this[_0xd39a39(0x157)],this[_0xd39a39(0x150)]=0x0;}['draw'](){const _0x37eadb=_0xaf01;push(),noFill(),strokeWeight(1.5),circle(this['center']['x'],this['center']['y'],this['r']*0x2),pop(),push(),strokeWeight(2.2),stroke(0xff,0x0,0x0),translate(this[_0x37eadb(0x148)]['x'],this[_0x37eadb(0x148)]['y']),rotate(this['angle']),line(0x0,0x0,-this['r']+0x3,0x0),fill(0xff,0x0,0x0),triangle(-this['r']+0x3,0x0,-this['r']+4.5,-1.5,-this['r']+4.5,1.5),stroke(0x0),strokeWeight(1.5),fill(0xff),circle(0x0,0x0,0x5),pop();}}class Dipole{constructor(_0x337a6b,_0x2aaf3c){const _0x255e20=_0xaf01;this['apart']=0x32,this[_0x255e20(0x150)]=0x0,this['r']=0xf,this['center']=createVector(_0x337a6b,_0x2aaf3c),this[_0x255e20(0x146)]=createVector(this[_0x255e20(0x148)]['x']-this[_0x255e20(0x15e)],_0x2aaf3c),this[_0x255e20(0x157)]=createVector(this['center']['x']+this[_0x255e20(0x15e)],_0x2aaf3c),this['nr']=this[_0x255e20(0x146)],this['sr']=this[_0x255e20(0x157)];}[_0x350fb3(0x155)](){const _0x4c683b=_0x350fb3;this[_0x4c683b(0x147)](),push(),strokeWeight(0x2),fill(0xff,0x0,0x0),push(),translate(this[_0x4c683b(0x148)]['x'],this['center']['y']),rotate(this[_0x4c683b(0x150)]),rect(-this['apart'],-this['r'],this[_0x4c683b(0x15e)],this['r']*0x2),fill(0xff),noStroke(),textSize(0x1e),text('N',-this[_0x4c683b(0x15e)]+0xa,this['r']/0x2+0x2),pop(),fill(0x0,0x0,0xff),push(),translate(this[_0x4c683b(0x148)]['x'],this['center']['y']),rotate(this[_0x4c683b(0x150)]),rect(0x0,-this['r'],this['apart'],this['r']*0x2),fill(0xff),noStroke(),textSize(0x1e),text('S',this['apart']-0x19,this['r']/0x2+0x2),pop(),fill(0xff),circle(this[_0x4c683b(0x148)]['x'],this[_0x4c683b(0x148)]['y'],0x5),pop();}[_0x350fb3(0x147)](){const _0x3b3d17=_0x350fb3;this[_0x3b3d17(0x146)]=createVector(this[_0x3b3d17(0x148)]['x']-this['apart'],this[_0x3b3d17(0x148)]['y']),this['south']=createVector(this['center']['x']+this[_0x3b3d17(0x15e)],this[_0x3b3d17(0x148)]['y']),this['nr']=rotateVector(this[_0x3b3d17(0x146)],this[_0x3b3d17(0x148)],this[_0x3b3d17(0x150)]),this['sr']=rotateVector(this[_0x3b3d17(0x157)],this[_0x3b3d17(0x148)],this['angle']);}}class Graph{constructor(_0xddd9cf,_0x5b4388,_0x178275,_0x25c1f3){this['x']=_0xddd9cf,this['y']=_0x5b4388,this['w']=_0x178275,this['h']=_0x25c1f3,this['origin']=createVector(this['x'],this['y']+this['h']/0x2),this['plot']=[],this['apart']=(this['h']-0x8c)/0x2;}[_0x350fb3(0x155)](){const _0x41af84=_0x350fb3;noFill(),push(),stroke(0x0),strokeWeight(0x6),point(this[_0x41af84(0x142)]['x'],this[_0x41af84(0x142)]['y']),strokeWeight(0x2),rect(this['x'],this['y'],this['w'],this['h']),line(this['origin']['x'],this['origin']['y'],this[_0x41af84(0x142)]['x']+this['w'],this[_0x41af84(0x142)]['y']);for(let _0xdb088f=-0x1;_0xdb088f<=0x1;_0xdb088f+=0.1){let _0x5aff1c=this[_0x41af84(0x142)]['x']-0x3,_0x314080=this[_0x41af84(0x142)]['x']+0x3,_0x35fae2=map(_0xdb088f,-0x1,0x1,this[_0x41af84(0x142)]['y']-this['apart'],this[_0x41af84(0x142)]['y']+this[_0x41af84(0x15e)]);strokeWeight(0x1),line(_0x5aff1c,_0x35fae2,_0x314080,_0x35fae2);}pop(),beginShape(),strokeWeight(0x2);let _0x3bcbf7=0x0;for(let _0x5d9d85 of this[_0x41af84(0x14b)]){vertex(map(_0x3bcbf7,0x0,cols-0x1,this[_0x41af84(0x142)]['x'],this['origin']['x']+this['w']),_0x5d9d85),_0x3bcbf7++;}endShape(),_0x3bcbf7=0x0,push();for(let _0x4fbe5f of this[_0x41af84(0x14b)]){stroke(0xff,0x0,0x0),strokeWeight(0x5),point(map(_0x3bcbf7,0x0,cols-0x1,this[_0x41af84(0x142)]['x'],this[_0x41af84(0x142)]['x']+this['w']),_0x4fbe5f),_0x3bcbf7++;}pop();}[_0x350fb3(0x147)](_0x5d364e){const _0xcb18d=_0x350fb3;this['plot']=[];for(let _0x5230cd of _0x5d364e){if(_0x5230cd[_0xcb18d(0x156)]){let _0x4c3a85=_0x5230cd[_0xcb18d(0x14e)];_0x4c3a85=map(_0x4c3a85,-0x1,0x1,this[_0xcb18d(0x142)]['y']-this[_0xcb18d(0x15e)],this[_0xcb18d(0x142)]['y']+this[_0xcb18d(0x15e)]),this['plot'][_0xcb18d(0x15c)](_0x4c3a85);}}}}class Particle{constructor(_0x2a4a9d,_0x31c045,_0xba3074=![]){const _0x2615e4=_0x350fb3;this[_0x2615e4(0x14c)]=createVector(_0x2a4a9d,_0x31c045),this['dir']=createVector(0x0,0x1),this['a']=createVector(0x0,0x0),this['v']=createVector(0x0,0x0),this[_0x2615e4(0x15f)]=0xf,this[_0x2615e4(0x151)]=0.7,this[_0x2615e4(0x156)]=_0xba3074;}['influence_by'](_0x3a60ca){const _0x5624ba=_0x350fb3;let _0xd22b8b=p5[_0x5624ba(0x161)][_0x5624ba(0x13e)](this[_0x5624ba(0x14c)],_0x3a60ca['nr']),_0x25c1dd=p5[_0x5624ba(0x161)][_0x5624ba(0x154)](_0x3a60ca['nr'],this[_0x5624ba(0x14c)]);_0xd22b8b['normalize'](),_0xd22b8b[_0x5624ba(0x149)](con/pow(_0x25c1dd,0x2));let _0x51f8ac=p5[_0x5624ba(0x161)]['sub'](_0x3a60ca['sr'],this[_0x5624ba(0x14c)]),_0x263071=p5[_0x5624ba(0x161)][_0x5624ba(0x154)](_0x3a60ca['sr'],this[_0x5624ba(0x14c)]);_0x51f8ac[_0x5624ba(0x140)](),_0x51f8ac[_0x5624ba(0x149)](con/pow(_0x263071,0x2));let _0x38ea7f=p5['Vector']['add'](_0xd22b8b,_0x51f8ac);this[_0x5624ba(0x159)]=_0x38ea7f[_0x5624ba(0x13f)]();}[_0x350fb3(0x155)](){const _0x27476e=_0x350fb3;push(),stroke(0x0),strokeWeight(this[_0x27476e(0x151)]),translate(this[_0x27476e(0x14c)]['x'],this['pos']['y']),rotate(this[_0x27476e(0x159)]['heading']()),this[_0x27476e(0x156)]&&(stroke(0x0,0x0,0xff),strokeWeight(0x2),fill(0x0,0x0,0xff),triangle(this['len'],0x2,this[_0x27476e(0x15f)],-0x2,this[_0x27476e(0x15f)]+0x5,0x0)),line(0x0,0x0,this[_0x27476e(0x15f)],0x0),pop();}['update'](_0x58943a){const _0x2b0a12=_0x350fb3;if(this[_0x2b0a12(0x156)]){let _0xf4738c=abs(this['dir']['heading']()-redAngle),_0x202907=cos(_0xf4738c);this[_0x2b0a12(0x14e)]=_0x202907,round(abs(this[_0x2b0a12(0x14e)]),0x1)==0.9&&(console[_0x2b0a12(0x13b)](_0x2b0a12(0x143)),diff=_0xf4738c);}}}class Redline{constructor(_0x388aea,_0x55a04e){const _0x3bda4c=_0x350fb3;this[_0x3bda4c(0x15e)]=0x14,this[_0x3bda4c(0x15d)]=createVector(_0x388aea,_0x55a04e),this[_0x3bda4c(0x146)]=createVector(_0x388aea-this[_0x3bda4c(0x15e)],_0x55a04e),this[_0x3bda4c(0x157)]=createVector(_0x388aea+this[_0x3bda4c(0x15e)],_0x55a04e),this['nr']=createVector(_0x388aea-this['apart'],_0x55a04e),this['sr']=createVector(_0x388aea+this[_0x3bda4c(0x15e)],_0x55a04e),this[_0x3bda4c(0x150)]=0x0,this[_0x3bda4c(0x151)]=0x1;}[_0x350fb3(0x155)](){const _0x56e19f=_0x350fb3;this[_0x56e19f(0x147)](),push(),stroke(0xff,0x0,0x0),strokeWeight(this[_0x56e19f(0x151)]),line(this['nr']['x'],this['nr']['y'],this['sr']['x'],this['sr']['y']),pop();}[_0x350fb3(0x147)](){const _0x406c32=_0x350fb3;this['nr']=rotateVector(this[_0x406c32(0x146)],this[_0x406c32(0x15d)],this[_0x406c32(0x150)]),this['sr']=rotateVector(this['south'],this[_0x406c32(0x15d)],this[_0x406c32(0x150)]);}}